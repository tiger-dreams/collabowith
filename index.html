<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Collabo Stack â€” ê¸°ì—… í˜‘ì—… ë„êµ¬ íƒìƒ‰ê¸°</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <style>
    body { font-family: 'Inter', -apple-system, sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #0A7CFF 0%, #0055CC 100%); }
    .tool-badge { transition: all 0.2s ease; }
    .tool-badge:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .search-box { box-shadow: 0 4px 20px rgba(10,124,255,0.15); }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">

  <!-- Hero -->
  <div class="gradient-bg text-white py-16 px-4">
    <div class="max-w-3xl mx-auto text-center">
      <div class="flex items-center justify-center gap-2 mb-4">
        <i data-lucide="layers" class="w-8 h-8"></i>
        <h1 class="text-3xl font-bold">Collabo Stack</h1>
      </div>
      <p class="text-blue-100 text-lg mb-8">ê¸°ì—…ì´ ì–´ë–¤ í˜‘ì—… ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”</p>

      <!-- ê²€ìƒ‰ì°½ -->
      <div class="relative max-w-xl mx-auto search-box rounded-2xl bg-white overflow-hidden flex items-center">
        <i data-lucide="search" class="w-5 h-5 text-gray-400 ml-4 flex-shrink-0"></i>
        <input
          id="searchInput"
          type="text"
          placeholder="ê¸°ì—…ëª… ë˜ëŠ” ë„ë©”ì¸ ì…ë ¥ (ì˜ˆ: samsung, kakao.com)"
          class="w-full px-4 py-4 text-gray-800 outline-none bg-transparent"
          oninput="search(this.value)"
        />
        <button onclick="search(document.getElementById('searchInput').value)"
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 font-medium transition-colors flex-shrink-0">
          ê²€ìƒ‰
        </button>
      </div>
    </div>
  </div>

  <!-- ê²°ê³¼ ì˜ì—­ -->
  <div class="max-w-3xl mx-auto px-4 py-10">
    <!-- ì´ˆê¸° ìƒíƒœ -->
    <div id="emptyState" class="text-center py-16 text-gray-400">
      <i data-lucide="building-2" class="w-16 h-16 mx-auto mb-4 text-gray-300"></i>
      <p class="text-lg">ê¸°ì—…ëª…ì„ ì…ë ¥í•˜ë©´ ì‚¬ìš© ì¤‘ì¸ í˜‘ì—… ë„êµ¬ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤</p>
      <p class="text-sm mt-2">Slack, Notion, Zoom, Miro, Figma, Jira ë“±</p>
    </div>

    <!-- ê²€ìƒ‰ ê²°ê³¼ -->
    <div id="results" class="hidden space-y-6"></div>

    <!-- ê²€ìƒ‰ ëª¨ë“œ ë¼ë²¨ -->
    <div id="modeLabel" class="hidden text-sm text-gray-500 mb-4 flex items-center gap-1"></div>

    <!-- ê²°ê³¼ ì—†ìŒ -->
    <div id="noResults" class="hidden text-center py-16 text-gray-400">
      <i data-lucide="search-x" class="w-16 h-16 mx-auto mb-4 text-gray-300"></i>
      <p class="text-lg">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
      <p class="text-sm mt-2">ë‹¤ë¥¸ ê¸°ì—…ëª…ì´ë‚˜ ë„ë©”ì¸ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
    </div>
  </div>

  <!-- ë„êµ¬ë³„ ìƒ‰ìƒ ë§µ -->
  <script>
    const TOOL_COLORS = {
      'Slack':      { bg: 'bg-purple-100', text: 'text-purple-700', icon: 'ğŸ’¬' },
      'Notion':     { bg: 'bg-gray-100',   text: 'text-gray-700',   icon: 'ğŸ“' },
      'Zoom':       { bg: 'bg-blue-100',   text: 'text-blue-700',   icon: 'ğŸ“¹' },
      'Miro':       { bg: 'bg-yellow-100', text: 'text-yellow-700', icon: 'ğŸ–Šï¸' },
      'Figma':      { bg: 'bg-pink-100',   text: 'text-pink-700',   icon: 'ğŸ¨' },
      'Jira':       { bg: 'bg-indigo-100', text: 'text-indigo-700', icon: 'ğŸ“‹' },
      'Atlassian':  { bg: 'bg-indigo-100', text: 'text-indigo-700', icon: 'ğŸ“‹' },
      'Teams':      { bg: 'bg-blue-100',   text: 'text-blue-700',   icon: 'ğŸ’¼' },
      'default':    { bg: 'bg-green-100',  text: 'text-green-700',  icon: 'ğŸ”§' },
    };

    let DB = [];

    // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ
    fetch('./data/companies.json')
      .then(r => r.json())
      .then(data => { DB = data; })
      .catch(() => {
        // fetch ì‹¤íŒ¨ ì‹œ ì¸ë¼ì¸ ë°ì´í„° ì‚¬ìš©
        DB = [
          { company: "Samsung", domain: "samsung.com", industry: "Electronics",
            tools: [
              { name: "Slack", use_case: "íŒ€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë° ê¸€ë¡œë²Œ í˜‘ì—…", source_url: "https://slack.com/customer-stories/samsung", source_type: "vendor_case_study" },
              { name: "Zoom",  use_case: "ê¸€ë¡œë²Œ í™”ìƒíšŒì˜", source_url: "https://zoom.us/customer/samsung", source_type: "vendor_case_study" }
            ], updated_at: "2026-02-18" },
          { company: "Kakao", domain: "kakao.com", industry: "Internet/Platform",
            tools: [
              { name: "Notion", use_case: "ë¬¸ì„œ ê´€ë¦¬ ë° ì§€ì‹ ë² ì´ìŠ¤", source_url: "https://notion.so/customers", source_type: "vendor_case_study" },
              { name: "Figma",  use_case: "UI/UX ë””ìì¸ í˜‘ì—…", source_url: "https://figma.com/customers", source_type: "media_article" }
            ], updated_at: "2026-02-18" },
          { company: "LINE", domain: "line.me", industry: "Messaging/Platform",
            tools: [
              { name: "Slack", use_case: "ì—”ì§€ë‹ˆì–´ë§ íŒ€ ë‚´ë¶€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", source_url: "https://slack.com/customer-stories/line", source_type: "vendor_case_study" },
              { name: "Miro",  use_case: "ì›ê²© ë””ìì¸ ìŠ¤í”„ë¦°íŠ¸", source_url: "https://miro.com/customers", source_type: "vendor_case_study" },
              { name: "Jira",  use_case: "í”„ë¡œì íŠ¸ ì´ìŠˆ íŠ¸ë˜í‚¹", source_url: "https://atlassian.com/customers", source_type: "vendor_case_study" }
            ], updated_at: "2026-02-18" }
        ];
      });

    // ë„êµ¬ëª… ëª©ë¡ (ê²€ìƒ‰ ì‹œ ë„êµ¬ëª… ì¸ì‹ìš©)
    const KNOWN_TOOLS = ['slack','notion','zoom','miro','figma','jira','confluence',
      'teams','asana','monday','trello','clickup','airtable','linear','loom',
      'discord','webex','github','gitlab','basecamp'];

    function isToolQuery(query) {
      return KNOWN_TOOLS.some(t => t.includes(query) || query.includes(t));
    }

    function search(query) {
      query = query.trim().toLowerCase();
      const emptyState = document.getElementById('emptyState');
      const results    = document.getElementById('results');
      const noResults  = document.getElementById('noResults');
      const modeLabel  = document.getElementById('modeLabel');

      if (!query) {
        emptyState.classList.remove('hidden');
        results.classList.add('hidden');
        noResults.classList.add('hidden');
        modeLabel.classList.add('hidden');
        return;
      }

      let matched = [];
      let mode = 'company';

      // ë„êµ¬ëª… ê²€ìƒ‰ ëª¨ë“œ
      if (isToolQuery(query)) {
        mode = 'tool';
        matched = DB.filter(c =>
          c.tools.some(t => t.name.toLowerCase().includes(query))
        );
      } else {
        // íšŒì‚¬ëª… ê²€ìƒ‰ ëª¨ë“œ
        matched = DB.filter(c =>
          c.company.toLowerCase().includes(query) ||
          c.domain.toLowerCase().includes(query)
        );
      }

      emptyState.classList.add('hidden');

      if (matched.length === 0) {
        results.classList.add('hidden');
        noResults.classList.remove('hidden');
        modeLabel.classList.add('hidden');
        return;
      }

      noResults.classList.add('hidden');
      results.classList.remove('hidden');

      // ê²€ìƒ‰ ëª¨ë“œ í‘œì‹œ
      modeLabel.classList.remove('hidden');
      if (mode === 'tool') {
        const toolName = query.charAt(0).toUpperCase() + query.slice(1);
        modeLabel.innerHTML = `<i data-lucide="layers" class="w-4 h-4 inline mr-1"></i><strong>${toolName}</strong>ì„(ë¥¼) ì‚¬ìš©í•˜ëŠ” ê¸°ì—… <strong>${matched.length}ê°œ</strong>`;
        results.innerHTML = matched.map(c => renderCard(c, query)).join('');
      } else {
        modeLabel.innerHTML = `<i data-lucide="building-2" class="w-4 h-4 inline mr-1"></i>ê²€ìƒ‰ ê²°ê³¼ <strong>${matched.length}ê°œ</strong>`;
        results.innerHTML = matched.map(c => renderCard(c, null)).join('');
      }
      lucide.createIcons();
    }

    function renderCard(company, highlightTool) {
      const sourceLabel = { vendor_case_study: 'ê³µì‹ ì‚¬ë¡€', media_article: 'ë¯¸ë””ì–´ ê¸°ì‚¬', job_posting: 'ì±„ìš©ê³µê³ ' };
      const tools = company.tools
        .filter(t => !highlightTool || t.name.toLowerCase().includes(highlightTool))
        .map(t => {
          const color = TOOL_COLORS[t.name] || TOOL_COLORS['default'];
          return `
            <a href="${t.source_url}" target="_blank" rel="noopener" class="tool-badge block p-4 rounded-xl border border-gray-100 bg-white hover:border-blue-200 transition-all">
              <div class="flex items-center gap-3 mb-2">
                <span class="text-2xl">${color.icon}</span>
                <span class="font-semibold text-gray-800">${t.name}</span>
                <span class="ml-auto text-xs px-2 py-0.5 rounded-full ${color.bg} ${color.text}">${sourceLabel[t.source_type] || t.source_type}</span>
              </div>
              <p class="text-sm text-gray-500">${t.use_case}</p>
              <p class="text-xs text-blue-400 mt-1 truncate">${t.source_url}</p>
            </a>`;
        }).join('');

      return `
        <div class="bg-white rounded-2xl border border-gray-100 p-6 shadow-sm">
          <div class="flex items-start justify-between mb-4">
            <div>
              <h2 class="text-xl font-bold text-gray-900">${company.company}</h2>
              <p class="text-sm text-gray-400 mt-0.5">${company.domain} Â· ${company.industry}</p>
            </div>
            <span class="text-xs text-gray-300">ì—…ë°ì´íŠ¸: ${company.updated_at}</span>
          </div>
          <div class="grid grid-cols-1 gap-3">
            ${tools}
          </div>
        </div>`;
    }

    // ì—”í„°í‚¤ ê²€ìƒ‰
    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();
      document.getElementById('searchInput').addEventListener('keydown', e => {
        if (e.key === 'Enter') search(e.target.value);
      });
    });
  </script>
</body>
</html>
